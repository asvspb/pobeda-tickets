# Поиск авиабилетов "Победа"

## Описание

Это веб-приложение, которое позволяет искать самые дешевые авиабилеты авиакомпании "Победа" на заданный период времени.

## Установка и запуск Linux

1. Клонируйте репозиторий: `git clone https://github.com/asvspb/pobeda-tickets.git`
2. Перейдите в папку проекта: `cd pobeda-tickets`
3. Установите зависимости: `npm install`
4. Запустите сервер: `node server.js`
5. Откройте браузер и перейдите по адресу `http://localhost:7777`

## Установка и запуск Windows

1. Приложение требует установленных на машине приложений git и node, которые можно скачать самостоятельно c https://git-scm.com/download/win и https://nodejs.org/en/download/package-manager/current
2. Запустите файл setup_and_run.bat.
3. Установщик проверит наличие требуемых приложений и, в случае отсутствия, установит и их, и сам проект.
4. Откройте браузер и перейдите по адресу `http://localhost:7777`


## Запуск с использованием Docker

1. Получите образ из Docker Hub:
   docker pull asvspb/pobeda-flyticket:v1.0
2. Запустите контейнер:
   docker run -p 7777:7777 asvspb/pobeda-flyticket:v1.0
3. Откройте браузер и перейдите по адресу `http://localhost:7777`

## Использование

1. Выберите город отправления и город назначения из выпадающих списков.
2. Укажите дату начала поиска (формат ДД.ММ.ГГГГ).
3. Укажите количество дней, в течение которых нужно искать билеты (максимум 30).
4. Нажмите кнопку "Найти билеты".

## Результаты

Приложение отобразит таблицу с самыми дешевыми билетами, найденными за указанный период. Таблица содержит следующие столбцы:

* **Дата:** дата вылета.
* **Цена:** цена билета в рублях.
* **Вылет:** время вылета.
* **Прилет:** время прилета.

Также будет выделен самый дешевый билет из найденных.

## Технологии

* **Node.js:** серверная часть приложения.
* **Express.js:** фреймворк для Node.js, используемый для создания веб-сервера.
* **Puppeteer:** библиотека Node.js для управления браузером Chrome или Chromium в headless-режиме, используемая для парсинга данных с сайта "Победы".
* **HTML, CSS, JavaScript:** клиентская часть приложения.

## Ограничения

* Приложение использует парсинг сайта "Победы", поэтому его работа может быть нарушена при изменении структуры сайта.
* Приложение ищет билеты только на одного взрослого пассажира.
* Приложение не учитывает дополнительные услуги, такие как багаж или выбор места.

## Примечания

* Код приложения написан на JavaScript и использует асинхронные функции (async/await).
* Приложение использует библиотеку Puppeteer для взаимодействия с сайтом "Победы".
* Приложение использует Express.js для создания простого веб-сервера.

## Возможные неполадки
* В качестве рекомендации на linux машинах предлагается обновить пакет зависимостей, необходимых для парсинга:
`sudo apt-get install -y libasound2 libatk-bridge2.0-0 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4 libnss3 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget`

## Лицензия

MIT

